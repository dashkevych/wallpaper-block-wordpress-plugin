(()=>{var e,t={658:(e,t,r)=>{"use strict";const n=window.wp.blocks,o=window.React;var a=r(184),i=r.n(a);const l=window.wp.i18n,s=window.wp.blockEditor,u=window.wp.components,c=window.wp.element,d=window.wp.data;var g={grad:.9,turn:360,rad:360/(2*Math.PI)},p=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},h=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},m=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e>t?e:t},b=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},v=function(e){return{r:m(e.r,0,255),g:m(e.g,0,255),b:m(e.b,0,255),a:m(e.a)}},f=function(e){return{r:h(e.r),g:h(e.g),b:h(e.b),a:h(e.a,3)}},y=/^#([0-9a-f]{3,8})$/i,w=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},_=function(e){var t=e.r,r=e.g,n=e.b,o=e.a,a=Math.max(t,r,n),i=a-Math.min(t,r,n),l=i?a===t?(r-n)/i:a===r?2+(n-t)/i:4+(t-r)/i:0;return{h:60*(l<0?l+6:l),s:a?i/a*100:0,v:a/255*100,a:o}},k=function(e){var t=e.h,r=e.s,n=e.v,o=e.a;t=t/360*6,r/=100,n/=100;var a=Math.floor(t),i=n*(1-r),l=n*(1-(t-a)*r),s=n*(1-(1-t+a)*r),u=a%6;return{r:255*[n,l,i,i,s,n][u],g:255*[s,n,n,l,i,i][u],b:255*[i,i,s,n,n,l][u],a:o}},C=function(e){return{h:b(e.h),s:m(e.s,0,100),l:m(e.l,0,100),a:m(e.a)}},x=function(e){return{h:h(e.h),s:h(e.s),l:h(e.l),a:h(e.a,3)}},I=function(e){return k((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},E=function(e){return{h:(t=_(e)).h,s:(o=(200-(r=t.s))*(n=t.v)/100)>0&&o<200?r*n/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,r,n,o},N=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,M=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,P=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,R=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,O={string:[[function(e){var t=y.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?h(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?h(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=P.exec(e)||R.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:v({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=N.exec(e)||M.exec(e);if(!t)return null;var r,n,o=C({h:(r=t[1],n=t[2],void 0===n&&(n="deg"),Number(r)*(g[n]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return I(o)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,o=e.a,a=void 0===o?1:o;return p(t)&&p(r)&&p(n)?v({r:Number(t),g:Number(r),b:Number(n),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,o=e.a,a=void 0===o?1:o;if(!p(t)||!p(r)||!p(n))return null;var i=C({h:Number(t),s:Number(r),l:Number(n),a:Number(a)});return I(i)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,o=e.a,a=void 0===o?1:o;if(!p(t)||!p(r)||!p(n))return null;var i=function(e){return{h:b(e.h),s:m(e.s,0,100),v:m(e.v,0,100),a:m(e.a)}}({h:Number(t),s:Number(r),v:Number(n),a:Number(a)});return k(i)},"hsv"]]},B=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},S=function(e,t){var r=E(e);return{h:r.h,s:m(r.s+100*t,0,100),l:r.l,a:r.a}},A=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},F=function(e,t){var r=E(e);return{h:r.h,s:r.s,l:m(r.l+100*t,0,100),a:r.a}},G=function(){function e(e){this.parsed=function(e){return"string"==typeof e?B(e.trim(),O.string):"object"==typeof e&&null!==e?B(e,O.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return h(A(this.rgba),2)},e.prototype.isDark=function(){return A(this.rgba)<.5},e.prototype.isLight=function(){return A(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=f(this.rgba)).r,r=e.g,n=e.b,a=(o=e.a)<1?w(h(255*o)):"","#"+w(t)+w(r)+w(n)+a;var e,t,r,n,o,a},e.prototype.toRgb=function(){return f(this.rgba)},e.prototype.toRgbString=function(){return t=(e=f(this.rgba)).r,r=e.g,n=e.b,(o=e.a)<1?"rgba("+t+", "+r+", "+n+", "+o+")":"rgb("+t+", "+r+", "+n+")";var e,t,r,n,o},e.prototype.toHsl=function(){return x(E(this.rgba))},e.prototype.toHslString=function(){return t=(e=x(E(this.rgba))).h,r=e.s,n=e.l,(o=e.a)<1?"hsla("+t+", "+r+"%, "+n+"%, "+o+")":"hsl("+t+", "+r+"%, "+n+"%)";var e,t,r,n,o},e.prototype.toHsv=function(){return e=_(this.rgba),{h:h(e.h),s:h(e.s),v:h(e.v),a:h(e.a,3)};var e},e.prototype.invert=function(){return $({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),$(S(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),$(S(this.rgba,-e))},e.prototype.grayscale=function(){return $(S(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),$(F(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),$(F(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?$({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):h(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=E(this.rgba);return"number"==typeof e?$({h:e,s:t.s,l:t.l,a:t.a}):h(t.h)},e.prototype.isEqual=function(e){return this.toHex()===$(e).toHex()},e}(),$=function(e){return e instanceof G?e:new G(e)};const j={"top left":"is-position-top-left","top center":"is-position-top-center","top right":"is-position-top-right","center left":"is-position-center-left","center center":"is-position-center-center","center right":"is-position-center-right","bottom left":"is-position-bottom-left","bottom center":"is-position-bottom-center","bottom right":"is-position-bottom-right"},D={x:.5,y:.5};function U(e){return!e||"center center"===e}function H(e){return U(e)?"":j[e]}function V({x:e,y:t}=D){return`${Math.round(100*e)}% ${Math.round(100*t)}%`}const L=e=>{const{dimRatio:t,overlayColor:r,customOverlayColor:n,gradient:o,customGradient:a}=e,i=(0,s.getColorClassName)("background-color",r),l=(0,s.__experimentalGetGradientClass)(o),u=r||n,c=o||a;let d="wallpaper-overlay";var g;return void 0!==t&&(d+=` ${g=t,void 0===g?null:"has-background-dim-"+10*Math.round(g/10)}`),u&&!c&&(d+=` ${i}`),void 0!==t&&(d+=" has-background-dim"),c&&(d+=" has-background-gradient"),c&&!u&&l&&(d+=` ${l}`),d.trim()},T=window.wp.compose;function q({snowColor:e}){const t=(0,o.useRef)(null),r=(0,o.useRef)({x:window.innerWidth/2,y:window.innerHeight/2}),n=(0,o.useRef)([]),[a,i]=(0,T.useResizeObserver)();return(0,o.useEffect)((()=>{const o=t.current,a=o.getContext("2d");i.width&&i.height&&(o.width=i.width,o.height=i.height,((e,t)=>{n.current=[];for(var r=0;r<100;r++){const r=(5*Math.random()+2)*(t/500);n.current.push({x:Math.random()*e,y:Math.random()*t,r,d:Math.random()+1,o:Math.min(1,.5+r/10)})}})(o.width,o.height));let l=setInterval((()=>{for(var t of(a.clearRect(0,0,o.width,o.height),a.fillStyle=(()=>{const{r:t,g:r,b:n,a:o}=e;return`rgba(${t}, ${r}, ${n}, ${o})`})(),n.current))a.beginPath(),a.arc(t.x,t.y,t.r,0,2*Math.PI,!0),a.fill();((e,t,n,o)=>{let a=0;a+=.01;for(var i=0;i<e.length;i++){var l=e[i];l.y+=Math.pow(l.d,2)+1,l.x+=2*Math.sin(.01);const t=n/2;let a=(r.current.x-t)/100;a=Math.min(Math.max(a,-1.5),1.5),l.x+=a,l.y>o&&(e[i]={x:Math.random()*n,y:0,r:l.r,d:l.d})}})(n.current,0,o.width,o.height)}),25);const s=e=>{const t=o.getBoundingClientRect();r.current={x:e.clientX-t.left,y:e.clientY-t.top}};return o.addEventListener("mousemove",s),()=>{clearInterval(l),o.removeEventListener("mousemove",s)}}),[e,i]),(0,o.createElement)(o.Fragment,null,a,(0,o.createElement)("canvas",{ref:t,id:"canvas",className:"theme"}))}const z=(0,T.compose)([(0,s.withColors)({overlayColor:"background-color"})])((({clientId:e,attributes:t,setAttributes:r,overlayColor:n,setOverlayColor:a})=>{const{dimRatio:c}=t,{gradientClass:d,gradientValue:g,setGradient:p}=(0,s.__experimentalUseGradient)(),h=(0,s.__experimentalUseMultipleOriginColorsAndGradients)(),m={backgroundColor:n.color,backgroundImage:g};return h.hasColorsOrGradients?(0,o.createElement)(o.Fragment,null,!!c&&(0,o.createElement)("span",{"aria-hidden":"true",className:i()(L(t)),style:m}),(0,o.createElement)(s.InspectorControls,{group:"color"},(0,o.createElement)(s.__experimentalColorGradientSettingsDropdown,{__experimentalIsRenderedInSidebar:!0,settings:[{colorValue:n.color,gradientValue:g,label:(0,l.__)("Overlay"),onColorChange:a,onGradientChange:p,isShownByDefault:!0,resetAllFilter:()=>({overlayColor:void 0,customOverlayColor:void 0,gradient:void 0,customGradient:void 0})}],panelId:e,...h}),(0,o.createElement)(u.__experimentalToolsPanelItem,{hasValue:()=>void 0!==c,label:(0,l.__)("Overlay opacity"),onDeselect:()=>r({dimRatio:0}),resetAllFilter:()=>({dimRatio:0}),isShownByDefault:!0,panelId:e},(0,o.createElement)(u.RangeControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Overlay opacity"),value:c,onChange:e=>r({dimRatio:e}),min:0,max:100,step:10,required:!0,__next40pxDefaultSize:!0})))):null}));function W({attributes:e,imageRef:t}){if(!e.backgroundImageUrl)return;const r=t?{ref:t}:{},n={objectPosition:e.backgroundImageFocalPoint?V(e.backgroundImageFocalPoint):void 0};return(0,o.createElement)("img",{...r,className:"wallpaper-image-background",src:e.backgroundImageUrl,style:n,alt:e.backgroundImageAlt})}const J=["image"],X=["core/group"],Y=(0,s.withColors)({snowColor:"snow-color"})((function(e){const{attributes:t,setAttributes:r,snowColor:n,setSnowColor:a,clientId:g}=e,p=i()({"has-custom-content-position":!U(t.contentPosition)},H(t.contentPosition)),h=(0,s.useBlockProps)({className:p}),m=(0,d.useSelect)((e=>{const{getBlock:t}=e(s.store),r=t(g);return!!r&&r.innerBlocks.length>0}),[g]),b=(0,s.useInnerBlocksProps)({className:"wallpaper-content"},{allowedBlocks:X,orientation:"vertical",renderAppender:m?()=>null:s.InnerBlocks.ButtonBlockAppender}),v=(0,s.__experimentalUseMultipleOriginColorsAndGradients)();let f=t.snowColorValue?t.snowColorValue:n.color;const y=$(f).toRgb(),w=(0,c.useRef)(),_=e=>{w.current&&(w.current.style.objectPosition=V(e))};return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(s.InspectorControls,{group:"color"},(0,o.createElement)(s.__experimentalColorGradientSettingsDropdown,{__experimentalIsRenderedInSidebar:!0,settings:[{colorValue:f,label:(0,l.__)("Snow"),onColorChange:e=>{a(e),r({snowColorValue:e})},isShownByDefault:!0,resetAllFilter:()=>{a(void 0),r({snowColorValue:void 0})},enableAlpha:!0}],panelId:g,...v})),(0,o.createElement)(s.InspectorControls,null,!!t.backgroundImageUrl&&(0,o.createElement)(u.PanelBody,{title:(0,l.__)("Media settings")},(0,o.createElement)(u.FocalPointPicker,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Focal point picker"),url:t.backgroundImageUrl,value:t.backgroundImageFocalPoint,onDragStart:_,onDrag:_,onChange:e=>r({backgroundImageFocalPoint:e})}),(0,o.createElement)(u.TextareaControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Alternative text"),value:t.backgroundImageAlt,onChange:e=>r({backgroundImageAlt:e}),help:(0,o.createElement)(o.Fragment,null,(0,o.createElement)(u.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,l.__)("Describe the purpose of the image.")),(0,o.createElement)("br",null),(0,l.__)("Leave empty if decorative."))}),(0,o.createElement)(u.PanelRow,null,(0,o.createElement)(u.Button,{variant:"secondary",className:"block-library-cover__reset-button",onClick:()=>{r({backgroundImageUrl:void 0})}},(0,l.__)("Clear Media"))))),(0,o.createElement)(s.BlockControls,{group:"block"},(0,o.createElement)(s.__experimentalBlockAlignmentMatrixControl,{label:(0,l.__)("Change content position"),value:t.contentPosition,onChange:e=>r({contentPosition:e}),isDisabled:!m})),(0,o.createElement)(s.BlockControls,{group:"other"},(0,o.createElement)(s.MediaReplaceFlow,{mediaURL:t.backgroundImageUrl,allowedTypes:J,accept:"image/*",onSelect:e=>{r({backgroundImageUrl:e.url})},name:t.backgroundImageUrl?(0,l.__)("Replace"):(0,l.__)("Add Background Image")})),(0,o.createElement)("div",{...h},(0,o.createElement)(W,{attributes:t,imageRef:w}),(0,o.createElement)(z,{attributes:t,setAttributes:r,clientId:g}),(0,o.createElement)("div",{className:"wallpaper-canvas"},(0,o.createElement)(q,{snowColor:y})),(0,o.createElement)("div",{...b})))})),K=JSON.parse('{"u2":"wallpaper/holiday-snow"}');(0,n.registerBlockType)(K.u2,{edit:Y,save:function(e){const{attributes:t}=e,r={backgroundColor:(0,s.getColorClassName)("background-color",t.overlayColor)?void 0:t.customOverlayColor,background:t.customGradient?t.customGradient:void 0},n=i()({"has-custom-content-position":!U(t.contentPosition)},H(t.contentPosition)),a=s.useBlockProps.save({className:n});return(0,o.createElement)("div",{...a},(0,o.createElement)(W,{attributes:t}),!!t.dimRatio&&(0,o.createElement)("span",{"aria-hidden":"true",className:i()(L(t)),style:r}),(0,o.createElement)("div",{className:"wallpaper-canvas"}),(0,o.createElement)("div",{...s.useInnerBlocksProps.save({className:"wallpaper-content"})}))}})},184:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(c=0;c<e.length;c++){for(var[r,o,a]=e[c],l=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,o,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={408:0,684:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,l,s]=r,u=0;if(i.some((t=>0!==e[t]))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(s)var c=s(n)}for(t&&t(r);u<i.length;u++)a=i[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=globalThis.webpackChunkwallpaper_block=globalThis.webpackChunkwallpaper_block||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[684],(()=>n(658)));o=n.O(o)})();